import yaml,os
class Exploit:

    def load_config(self, path):
        try:
            with open(path) as f:
                data = yaml.load(f, Loader=yaml.FullLoader)
                self.config = data
        except:
            print("Config File Not Found")
        
    
    def set_parameter(self, key, element, value):
        try:
            self.config[key.lower()][element] = value

        except:
            print("Key, Element, or Value is not correct")
    
    def show_parameters(self):
        print('--------')
        print('Address:')
        if self.config['address'] is not None:
            for key, value in self.config['address'].items():
                print(key, "-->", value)
        print('--------')
        print('Parameters:')
        if self.config['parameters'] is not None:
            for key, value in self.config['parameters'].items():
                print(key, "-->", value)
        print('--------')
        print('Networks:')
        if self.config['networks'] is not None:
            for key, value in self.config['networks'].items():
                print(key, "-->", value)
        print('--------')

    def __init__(self, name, path):
        self.name = name
        self.load_config( os.path.join(path,"config.yml"))